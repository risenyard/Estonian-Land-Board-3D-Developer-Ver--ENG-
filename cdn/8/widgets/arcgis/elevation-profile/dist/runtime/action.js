System.register(["jimu-core"],(function(e,t){var r={};return{setters:[function(e){r.AbstractMessageAction=e.AbstractMessageAction,r.DataSourceManager=e.DataSourceManager,r.Immutable=e.Immutable,r.MessageType=e.MessageType,r.MutableStoreManager=e.MutableStoreManager,r.getAppStore=e.getAppStore}],execute:function(){e((()=>{"use strict";var e={48891:e=>{e.exports=r}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{o.r(a),o.d(a,{default:()=>t,getDsByWidgetId:()=>r});var e=o(48891);class t extends e.AbstractMessageAction{filterMessageDescription(t){if(t.messageType===e.MessageType.DataRecordsSelectionChange){const o=e.DataSourceManager.getInstance(),a=r(t.widgetId,t.messageType);return null==a?void 0:a.some((e=>{var t;const r=o.getDataSource(e.dataSourceId);return"WEB_MAP"===r.type||"WEB_SCENE"===r.type||"FEATURE_LAYER"===r.type&&"esriGeometryPolyline"===(null===(t=null==r?void 0:r.layerDefinition)||void 0===t?void 0:t.geometryType)}))}}filterMessageType(t){return t===e.MessageType.DataRecordsSelectionChange}filterMessage(e){var t,r,o;return(null===(t=null==e?void 0:e.records)||void 0===t?void 0:t.length)>0&&"polyline"===(null===(o=null===(r=e.records[0].feature)||void 0===r?void 0:r.geometry)||void 0===o?void 0:o.type)}onExecute(t){const r=t;return e.MutableStoreManager.getInstance().updateStateValue(this.widgetId,"selectedFeatureRecords",r.records),!0}getSettingComponentUri(e,t){return null}}function r(t,r){var o;const a=function(){var t,r,o;return window.jimuConfig.isBuilder?null===(r=null===(t=(0,e.getAppStore)().getState())||void 0===t?void 0:t.appStateInBuilder)||void 0===r?void 0:r.appConfig:null===(o=(0,e.getAppStore)().getState())||void 0===o?void 0:o.appConfig}(),n=null===(o=null==a?void 0:a.widgets)||void 0===o?void 0:o[t];return(null==n?void 0:n.useDataSources)||(0,e.Immutable)([])}})(),a})())}}}));